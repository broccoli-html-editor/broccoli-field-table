!function e(t,n,r){function a(i,d){if(!n[i]){if(!t[i]){var l="function"==typeof require&&require;if(!d&&l)return l(i,!0);if(p)return p(i,!0);throw new Error("Cannot find module '"+i+"'")}var o=n[i]={exports:{}};t[i][0].call(o.exports,function(e){var n=t[i][1][e];return a(n?n:e)},o,o.exports,e,t,n,r)}return n[i].exports}for(var p="function"==typeof require&&require,i=0;i<r.length;i++)a(r[i]);return a}({1:[function(e,t,n){t.exports=function(e){var t=e.resourceMgr;this.bind=function(e,t,n,r){e=e||{};var a="";e.output&&(a+=e.output),"canvas"==t&&(a.length||(a+='<tr><td style="text-align:center;">ダブルクリックして編集してください。</td></tr>')),setTimeout(function(){r(a)},0)},this.mkPreviewHtml=function(e,t,n){e=e||{};var r="";e.output&&(r+=e.output),r=$("<table>"+r+"</table>"),n(r.get(0).outerHTML)},this.normalizeData=function(e,t){var n=e;return typeof e!=typeof{}&&(n={resKey:"",output:"",header_row:0,header_col:0,cell_renderer:"text",renderer:"simplify"}),n},this.mkEditor=function(e,n,r,a){var p=$("<div>");typeof n!=typeof{}&&(n={}),"string"!=typeof n.resKey&&(n.resKey="");var i=(t.getResource(n.resKey),$("<div>"));p.append(i),n.resKey&&i.html("").append($('<button type="button">エクセルで開く</button>').attr({title:t.getResourceOriginalRealpath(n.resKey),"data-excel-realpath":t.getResourceOriginalRealpath(n.resKey)}).click(function(){var e=$(this).attr("data-excel-realpath");px.utils.openURL(e)})),p.append($("<input>").attr({name:e.name,type:"file",webkitfile:"webkitfile"}).css({width:"100%"}).bind("change",function(){var e=$(this).val();e&&i.html("選択しました")})),p.append($("<div>").append($("<span>").text("ヘッダー行:")).append($("<input>").attr({name:e.name+":header_row",type:"number",value:n.header_row}))),p.append($("<div>").append($("<span>").text("ヘッダー列:")).append($("<input>").attr({name:e.name+":header_col",type:"number",value:n.header_col}))),p.append($("<div>").append($("<span>").text("再現方法:")).append($("<label>").append($("<input>").attr({name:e.name+":renderer",type:"radio",value:"simplify"})).append($("<span>").text("単純化"))).append($("<label>").append($("<input>").attr({name:e.name+":renderer",type:"radio",value:"strict"})).append($("<span>").text("そのまま表示")))),p.find('input[name="'+e.name+':renderer"][value="'+n.renderer+'"]').attr({checked:"checked"}),p.append($("<div>").append($("<span>").text("セルの表現方法:")).append($("<label>").append($("<input>").attr({name:e.name+":cell_renderer",type:"radio",value:"html"})).append($("<span>").text("HTML"))).append($("<label>").append($("<input>").attr({name:e.name+":cell_renderer",type:"radio",value:"text"})).append($("<span>").text("テキスト"))).append($("<label>").append($("<input>").attr({name:e.name+":cell_renderer",type:"radio",value:"markdown"})).append($("<span>").text("Markdown")))),p.find('input[name="'+e.name+':cell_renderer"][value="'+n.cell_renderer+'"]').attr({checked:"checked"}),$(r).html(p),setTimeout(function(){a()},0)},this.duplicateData=function(e,n){e=JSON.parse(JSON.stringify(e)),e.resKey=t.duplicateResource(e.resKey),n(e)},this.saveEditorContent=function(e,n,r,a){var p=$(e);typeof n!=typeof{}&&(n={}),"string"!=typeof n.resKey&&(n.resKey=""),t.getResource(n.resKey)===!1&&(n.resKey=t.addResource());p.find("input[name="+r.name+"]").val();n.header_row=p.find('input[name="'+r.name+':header_row"]').val(),n.header_col=p.find('input[name="'+r.name+':header_col"]').val(),n.cell_renderer=p.find('input[name="'+r.name+':cell_renderer"]:checked').val(),n.renderer=p.find('input[name="'+r.name+':renderer"]:checked').val();var i=t.getResource(n.resKey);i.isPrivateMaterial=!0,a(n)}}},{}],2:[function(e,t,n){!function(t){t.BroccoliHtmlEditorTableField=e("../libs/main.js")}(window)},{"../libs/main.js":1}]},{},[2]);